<!doctype html>
<html>
  <head>
    <style>
      body { margin: 0 auto; width: 900px;  }
    </style>
  </head>
  <body>
    <canvas id="canvas" width="900" height="900"></canvas>
    <script>
      function MetatronsCube(canvas) {
	this.canvas = canvas;
	var midpoint = {
	  x: canvas.width / 2,
	  y: canvas.height / 2,
	}
	var size = 80;
	this.circles = [
	  // Center.
	  new Circle(midpoint.x, midpoint.y, size),
	  // Inner ring.
	  new Circle( // 0
	    midpoint.x + 2 * Math.sin(Math.PI * 0) * size,
	    midpoint.y - 2 * Math.cos(Math.PI * 0) * size,
	    size
	  ),
	  new Circle( // 1
	    midpoint.x + 2 * Math.sin(Math.PI * 1/3) * size,
	    midpoint.y - 2 * Math.cos(Math.PI * 1/3) * size,
	    size
	  ),
	  new Circle( // 2
	    midpoint.x + 2 * Math.sin(Math.PI * 1/3) * size,
	    midpoint.y + 2 * Math.cos(Math.PI * 1/3) * size,
	    size
	  ),
	  new Circle( // 3
	    midpoint.x + 2 * Math.sin(Math.PI * 0) * size,
	    midpoint.y + 2 * Math.cos(Math.PI * 0) * size,
	    size
	  ),
	  new Circle( // 4
	    midpoint.x - 2 * Math.sin(Math.PI * 1/3) * size,
	    midpoint.y + 2 * Math.cos(Math.PI * 1/3) * size,
	    size
	  ),
	  new Circle( // 5
	    midpoint.x - 2 * Math.sin(Math.PI * 1/3) * size,
	    midpoint.y - 2 * Math.cos(Math.PI * 1/3) * size,
	    size
	  ),
	  // Outer ring.
	  new Circle( // 0
	    midpoint.x + 4 * Math.sin(Math.PI * 0) * size,
	    midpoint.y - 4 * Math.cos(Math.PI * 0) * size,
	    size
	  ),
	  new Circle( // 1
	    midpoint.x + 4 * Math.sin(Math.PI * 1/3) * size,
	    midpoint.y - 4 * Math.cos(Math.PI * 1/3) * size,
	    size
	  ),
	  new Circle( // 2
	    midpoint.x + 4 * Math.sin(Math.PI * 1/3) * size,
	    midpoint.y + 4 * Math.cos(Math.PI * 1/3) * size,
	    size
	  ),
	  new Circle( // 3
	    midpoint.x + 4 * Math.sin(Math.PI * 0) * size,
	    midpoint.y + 4 * Math.cos(Math.PI * 0) * size,
	    size
	  ),
	  new Circle( // 4
	    midpoint.x - 4 * Math.sin(Math.PI * 1/3) * size,
	    midpoint.y + 4 * Math.cos(Math.PI * 1/3) * size,
	    size
	  ),
	  new Circle( // 5
	    midpoint.x - 4 * Math.sin(Math.PI * 1/3) * size,
	    midpoint.y - 4 * Math.cos(Math.PI * 1/3) * size,
	    size
	  ),
	];
      }

      MetatronsCube.prototype.draw = function() {
	var ctx = this.canvas.getContext('2d');
	ctx.beginPath();
	// Draw the cirles.
	this.circles.forEach(function (circle) {
	  circle.draw(ctx);
	});
	// Connect the centers.
	for (var i=0; i<this.circles.length; i++) {
	  for (var j=0; j<this.circles.length; j++) {
	    if (i === j) { continue; }
	    this.circles[i].connectTo(this.circles[j], ctx);
	  }
	}
	ctx.stroke();
      };

      function Circle(x, y, r) {
        this.x = x;
        this.y = y;
        this.r = r;
      }

      Circle.prototype.draw = function(ctx) {
        ctx.moveTo(this.x + this.r, this.y);
        ctx.arc(this.x, this.y, this.r, 0, Math.PI*2, true);
      };

      Circle.prototype.connectTo = function(that, ctx) {
        ctx.moveTo(this.x, this.y);
        ctx.lineTo(that.x, that.y);
      };

      /*
      var lingrad2 = ctx.createRadialGradient(300, 300, 0, 300, 300, 300);
      lingrad2.addColorStop(0, '#000');
      lingrad2.addColorStop(1, 'rgba(0, 0, 0, 0)');
      ctx.strokeStyle = lingrad2;
      */

      // Draw Metatron's cube on the canvas.
      var canvas = document.getElementById('canvas');
      new MetatronsCube(canvas).draw();
    </script>
  </body>
</html>
